<!DOCTYPE html>
<!-- Netlify -->
<html lang="en">

<head>
  <meta charset="utf-8">
  <title>wventures</title>
  <meta content="width=device-width, initial-scale=1" name="viewport">
  <meta content="-DHA9rWW7NxGrI6oM-zmwx3ljhGZn5ikfkYAMJuNggM" name="google-site-verification">
  <link href="../images/favicon.png" rel="shortcut icon" type="image/x-icon">
  <link href="../images/webclip.png" rel="apple-touch-icon">

  <!--  Stripe.js  -->
  <script src="https://js.stripe.com/v3"></script>
  <style>
    .stripeCheckoutButton {
      background-color: #6772e5;
      color: #fff;
      padding: 8px 12px;
      border: 0;
      border-radius: 4px;
      font-size: 1em;
      cursor: pointer;
    }
  </style>
</head>

<body class="body">
  <div class="section-full">
    <div class="embed-stripe w-embed">
      <!--  Stripe checkout button (PRODUCTION)  -->
      <button class="stripeCheckoutButton" id="price_1HTxQoCkDrSTQU1mT5ukZfEz" role="link" type="button">
        wventures.de
      </button>
      <!--  Stripe error handling  -->
      <div id="error-message"></div>
    </div>
  </div>

  <script>
    /*
     * Checkout Subscription (PRODUCTION)
     * build date: 22.09.2020
     */
    document.addEventListener("DOMContentLoaded", () => {
      "use strict";
      // globals
      const pk_live =
        "pk_live_51HH3cWCkDrSTQU1mNIyW3dQlXy393wVUvXYCLu665YSydnegOJS8IT3Ub9fJs0pbXpXKRFSyAjFPYTOHFxRZYPHe00CVuYrdWW",
        priceID = "price_1HTxQoCkDrSTQU1mT5ukZfEz",
        language = "de", // auto
        mode = "subscription",
        domain = "https://www.anthonysalamin.ch/stripe",
        checkoutEmail = "alffers@wventures.de",
        forceEmail = true;
      const stripe = Stripe(pk_live, { locale: language }),
        checkoutButton = document.getElementById(priceID);
      let stripeObject = {
        lineItems: [{ price: priceID, quantity: 1 }],
        mode: mode,
        successUrl: `${domain}/success`,
        cancelUrl: `${domain}/canceled`,
        billingAddressCollection: "required"
      };
      // force email management
      if (forceEmail) {
        stripeObject.customerEmail = checkoutEmail;
      } else {
        delete stripeObject.customerEmail;
      }
      // error handling from checkout
      const handleResult = function (result) {
        if (result.error) {
          const displayError = document.getElementById("error-message");
          displayError.textContent = result.error.message;
        }
      };
      checkoutButton.addEventListener("click", () => {
        stripe.redirectToCheckout(stripeObject).then(handleResult);
      }); // end click listener
    }); // end DOMContentLoaded()
  </script>
</body>

</html>